<?xml version="1.0"?>
<Container version="2">
  <Name>OpenCloud</Name>
  <Repository>opencloudeu/opencloud-rolling:latest</Repository>
  <Registry>https://hub.docker.com/r/opencloudeu/opencloud-rolling</Registry>
  <Network>br0</Network>  <!-- Bridge-Modus mit statischer IP -->
  <MyIP>10.13.13.2</MyIP> <!-- Wie in Ihrer README dokumentiert -->
  <Privileged>false</Privileged>
  <Support>https://github.com/syprix/unraid-opencloud</Support>
  
  <Configs>
    <Config Name="MariaDB Host IP" Target="MYSQL_HOST" Default="10.13.13.3" Mode="" Description="IP des MariaDB Containers"/>
    <Config Name="Redis Host IP" Target="REDIS_HOST" Default="10.13.13.4" Mode="" Description="IP des Redis Containers"/>
    <Config Name="OnlyOffice URL" Target="ONLYOFFICE_DOCUMENT_SERVER_URL" Default="https://onlyoffice.SYPRIX_DOMAIN" Mode="" Description="OnlyOffice-URL (https)"/>
    <Config Name="Externe Domain" Target="OVERWRITEHOST" Default="open.SYPRIX_DOMAIN" Mode="" Description="Ihre OpenCloud Domain"/>
    <Config Name="Trusted Proxy IP" Target="TRUSTED_PROXIES" Default="VPS_IP" Mode="" Description="Ã–ffentliche IP Ihres VPS"/>
  </Configs>
  
  <Environment>
    <Variable Name="MYSQL_HOST" Value="${MYSQL_HOST}"/>
    <Variable Name="MYSQL_DATABASE" Value="opencloud_db"/>
    <Variable Name="MYSQL_USER" Value="opencloud_user"/>
    <Variable Name="MYSQL_PASSWORD" Value=""/> <!-- In Unraid setzen -->
    <Variable Name="REDIS_HOST" Value="${REDIS_HOST}"/>
    <Variable Name="ONLYOFFICE_DOCUMENT_SERVER_URL" Value="${ONLYOFFICE_DOCUMENT_SERVER_URL}"/>
    <Variable Name="OVERWRITEHOST" Value="${OVERWRITEHOST}"/>
    <Variable Name="OVERWRITEPROTOCOL" Value="https"/>
    <Variable Name="TRUSTED_PROXIES" Value="${TRUSTED_PROXIES}"/>
  </Environment>
  
  <Data>
    <Volume Name="Config Verzeichnis" Target="/etc/opencloud" Default="/mnt/user/appdata/opencloud/config" Mode="rw"/>
    <Volume Name="Daten Verzeichnis" Target="/var/lib/opencloud" Default="/mnt/user/appdata/opencloud/data" Mode="rw"/>
  </Data>
</Container>
